{% extends "base.html" %}

{% block title %}{{ art.title }} by {{ art.artist }}{% endblock title %}

{% block content %}
  <div class="art-page">
    <a href="{{ url_for('home') }}" class="back-link"><i class="fas fa-chevron-left"></i> Back to Feed</a>
    
    <div class="art-image-container">
      <img src="{{ art.image }}" 
           alt="{{ art.title }}" 
           onerror="this.onerror=null;this.src='https://placehold.co/600x600/667eea/ffffff?text=Art+Image';" 
           class="main-art-image">
    </div>

    <div class="art-info-section">
      <span class="art-tag">Featured</span>
      <h1 class="art-title">{{ art.title }}</h1>
      <p class="art-artist-detail">by **{{ art.artist }}**</p>

      <div class="pricing-ar-block">
        <div class="price-detail" aria-label="Estimated Price">₹{{ art.price }}</div>
        <a href="{{ url_for('view_in_ar', art_id=art.id) }}" class="btn ar-link-btn" aria-label="View {{ art.title }} in augmented reality">
          <i class="fas fa-vr-cardboard"></i> View in AR
        </a>
      </div>

      <h3 class="section-heading">Description</h3>
      <p class="art-description-long">{{ art.description }}</p>

      <div class="interaction-buttons">
        <button class="btn primary-action"><i class="fas fa-shopping-cart"></i> Collect</button>
        <button class="btn secondary-action"><i class="fas fa-share-alt"></i> Share</button>
      </div>
      
      <div id="messageBox" class="order-message" role="alert" style="display: none;"></div>
    </div>
  </div>

  <script>
    document.querySelector('.primary-action').addEventListener('click', () => {
        const msgBox = document.getElementById('messageBox');
        msgBox.style.display = 'block';
        msgBox.innerHTML = `
            <strong>✅ Collection Request Sent!</strong><br>
            We will connect you with the artist, {{ art.artist }}, regarding the acquisition of "{{ art.title }}".
            <em>This is a demo action.</em>
        `;
        msgBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        setTimeout(() => { msgBox.style.display = 'none'; }, 5000);
    });
  </script>
{% endblock content %}
